# üéØ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Å–∏—Å—Ç–µ–º –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó

## üìã –ü–æ—Ç–æ—á–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ vs –ù–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞

### üîç –ê–Ω–∞–ª—ñ–∑ –ø–æ—Ç–æ—á–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏

#### **–ü–æ—Ç–æ—á–Ω–∏–π DashboardNav.tsx:**
```tsx
const getAvailablePages = (roleLevel: number) => {
    const pages = [
        { label: 'menu.dashboard', path: '/', roleLevel: 10 },
        { label: 'menu.scrapper', path: 'scrapper', roleLevel: 60 },
        { label: 'menu.users', path: 'users', roleLevel: 100 },
        { label: 'menu.profile', path: 'profile', roleLevel: 10 },
        { label: 'menu.settings', path: 'settings', roleLevel: 10 },
        { label: 'menu.announcements', path: 'announcements', roleLevel: 20 },
    ];
    return pages.filter(page => page.roleLevel <= roleLevel);
};
```

#### **–ü–æ—Ç–æ—á–Ω—ñ —Ä–æ—É—Ç–∏ (CoreRoutes.tsx):**
```tsx
export const CoreRoutes = (
  <Route path={ROUTES.DASHBOARD} element={<PrivateRoute><PAGES.Dashboard /></PrivateRoute>}>
    <Route path={ROUTES.PROFILE} element={<PAGES.Profile />} />
    <Route path={ROUTES.SCRAPPER} element={<LAYOUTS.Scrapper />}>
      <Route index element={<PAGES.DashboardScrapper />} />
      <Route path={ROUTES.SCRAPPER_TASK} element={<PAGES.ScrapperTask />} />
    </Route>
    <Route path={ROUTES.USERS} element={<PAGES.Users />} />
  </Route>
)
```

### ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∏ –ø–æ—Ç–æ—á–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏:

1. **–ñ–æ—Ä—Å—Ç–∫—ñ —Ä—ñ–≤–Ω—ñ** - `roleLevel: 100` –¥–ª—è Users (–∑–∞–Ω–∞–¥—Ç–æ –≤–∏—Å–æ–∫–æ)
2. **–ù–µ–º–∞—î –∑–∞—Ö–∏—Å—Ç—É —Ä–æ—É—Ç—ñ–≤** - —Ç—ñ–ª—å–∫–∏ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –≤ UI
3. **–ü—Ä–æ—Å—Ç–∏–π —Ñ—ñ–ª—å—Ç—Ä** - —Ç—ñ–ª—å–∫–∏ –∑–∞ —á–∏—Å–ª–æ–≤–∏–º —Ä—ñ–≤–Ω–µ–º
4. **–ù–µ–º–∞—î –≥—Ä–∞–Ω—É–ª—è—Ä–Ω–æ—Å—Ç—ñ** - –Ω–µ–º–∞—î –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –ø—Ä–∞–≤
5. **–ù–µ–º–∞—î fallback** - –Ω–µ–º–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –ø—Ä–æ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø

---

## üöÄ –ù–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞

### ‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏ –Ω–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏:

#### **1. –ì–Ω—É—á–∫—ñ—Å—Ç—å –æ–±–º–µ–∂–µ–Ω—å:**
```tsx
// –ó–∞ —Ä—ñ–≤–Ω–µ–º
{ requiredLevel: 60 }

// –ó–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—é —Ä–æ–ª–ª—é  
{ requiredRole: 'SUPER_ADMIN' }

// –ó–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏
{ requiredPermission: { action: 'read', resource: 'audit_logs' } }

// –ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω—ñ
{ roles: ['ADMIN'], level: 80 }
```

#### **2. –ó–∞—Ö–∏—Å—Ç –Ω–∞ —Ä—ñ–≤–Ω—ñ —Ä–æ—É—Ç—ñ–≤:**
```tsx
<Route 
  path={ROUTES.USERS} 
  element={
    <LevelProtectedRoute level={80}>
      <PAGES.Users />
    </LevelProtectedRoute>
  } 
/>
```

#### **3. –í—ñ–∑—É–∞–ª—å–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:**
```tsx
// –ë–µ–π–¥–∂—ñ –¥–ª—è –≤–∞–∂–ª–∏–≤–∏—Ö —Ä–æ–∑–¥—ñ–ª—ñ–≤
{ badge: 'ADMIN' }

// Tooltip –¥–ª—è –ø–æ—è—Å–Ω–µ–Ω—å
{ tooltip: '–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏' }

// Fallback –¥–ª—è –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–∏—Ö —Ä–æ–∑–¥—ñ–ª—ñ–≤
fallback={<div>–î–æ—Å—Ç—É–ø –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ</div>}
```

#### **4. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É:**
```tsx
// –ü—Ä–æ—Å—Ç–∏–π –∑–∞—Ö–∏—Å—Ç
<RoleGuard level={60}>
  <ManagerContent />
</RoleGuard>

// –ó fallback
<RoleGuard roles={['ADMIN']} fallback={<AccessDenied />}>
  <AdminContent />
</RoleGuard>

// –ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–π
<RoleGuard roles={['ADMIN']} level={80}>
  <HighSecurityContent />
</RoleGuard>
```

---

## üìä –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | –ü–æ—Ç–æ—á–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ | –ù–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ |
|---|---|---|
| **–¢–∏–ø –æ–±–º–µ–∂–µ–Ω—å** | –¢—ñ–ª—å–∫–∏ —á–∏—Å–ª–æ–≤–∏–π —Ä—ñ–≤–µ–Ω—å | –†–æ–ª—å, —Ä—ñ–≤–µ–Ω—å, –ø—Ä–∞–≤–∞, –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó |
| **–ó–∞—Ö–∏—Å—Ç —Ä–æ—É—Ç—ñ–≤** | –ù–µ–º–∞—î | ‚úÖ –ù–∞ —Ä—ñ–≤–Ω—ñ —Ä–æ—É—Ç–∏–Ω–≥—É |
| **–ó–∞—Ö–∏—Å—Ç UI** | –ë–∞–∑–æ–≤–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è | ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ RoleGuard |
| **Fallback** | –ù–µ–º–∞—î | ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è |
| **–í—ñ–∑—É–∞–ª—å–Ω—ñ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏** | –ù–µ–º–∞—î | ‚úÖ –ë–µ–π–¥–∂—ñ, —ñ–∫–æ–Ω–∫–∏, tooltips |
| **–ì—Ä–∞–Ω—É–ª—è—Ä–Ω—ñ—Å—Ç—å** | –ù–∏–∑—å–∫–∞ | ‚úÖ –í–∏—Å–æ–∫–∞ |
| **–¢–∏–ø–æ–±–µ–∑–ø–µ–∫–∞** | –°–ª–∞–±–∫–∞ | ‚úÖ TypeScript |
| **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å** | –°–ª–∞–±–∫–∞ | ‚úÖ –í–∏—Å–æ–∫–∞ |
| **–î–µ–±–∞–≥—ñ–Ω–≥** | –°–∫–ª–∞–¥–Ω–∏–π | ‚úÖ –õ–µ–≥–∫–∏–π |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –∑–º—ñ–Ω–∏

### **1. –û–Ω–æ–≤–∏—Ç–∏ —Ä—ñ–≤–Ω—ñ –¥–æ—Å—Ç—É–ø—É:**
```tsx
// –ü–æ—Ç–æ—á–Ω—ñ (–∑–∞–Ω–∞–¥—Ç–æ –≤–∏—Å–æ–∫—ñ)
{ label: 'menu.users', path: 'users', roleLevel: 100 }

// –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ
{ label: 'menu.users', path: 'users', requiredLevel: 80 } // ADMIN
```

### **2. –î–æ–¥–∞—Ç–∏ –∑–∞—Ö–∏—Å—Ç —Ä–æ—É—Ç—ñ–≤:**
```tsx
// –ó–∞–º—ñ–Ω–∏—Ç–∏ CoreRoutes –Ω–∞ ProtectedCoreRoutes
import { ProtectedCoreRoutes } from './ProtectedRoutes';
```

### **3. –û–Ω–æ–≤–∏—Ç–∏ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—é:**
```tsx
// –ó–∞–º—ñ–Ω–∏—Ç–∏ DashboardNav –Ω–∞ EnhancedDashboardNav
import { EnhancedDashboardNav } from '../components/EnhancedDashboardNav';
```

---

## üîÑ –ü–ª–∞–Ω –º—ñ–≥—Ä–∞—Ü—ñ—ó

### **–ö—Ä–æ–∫ 1: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞**
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ `EnhancedDashboardNav.tsx`
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ `ProtectedRoutes.tsx`
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ `constants.ts`

### **–ö—Ä–æ–∫ 2: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**
- [ ] –¢–µ—Å—Ç—É–≤–∞—Ç–∏ –Ω–æ–≤—É –Ω–∞–≤—ñ–≥–∞—Ü—ñ—é
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–∞—Ö–∏—Å—Ç —Ä–æ—É—Ç—ñ–≤
- [ ] –¢–µ—Å—Ç—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ —Ä—ñ–≤–Ω—ñ –¥–æ—Å—Ç—É–ø—É

### **–ö—Ä–æ–∫ 3: –ú—ñ–≥—Ä–∞—Ü—ñ—è**
```tsx
// 1. –û–Ω–æ–≤–∏—Ç–∏ AppRoutes.tsx
import { ProtectedCoreRoutes } from './ProtectedRoutes';

export const AppRoutes: React.FC = () => (
  <Routes>
    <Route path={ROUTES.LOGIN} element={<PAGES.Login />} />
    <Route path={ROUTES.REGISTER} element={<PAGES.Register />} />
    
    {/* –ó–∞–º—ñ–Ω–∏—Ç–∏ CoreRoutes –Ω–∞ ProtectedCoreRoutes */}
    {ProtectedCoreRoutes}
    
    <Route path="/" element={<Navigate to={ROUTES.MAIN} />} />
  </Routes>
)
```

```tsx
// 2. –û–Ω–æ–≤–∏—Ç–∏ Dashboard.tsx
import { EnhancedDashboardNav } from '../components/EnhancedDashboardNav';

const DashboardPage: React.FC = () => {
  // ...
  <Navbar width={{ base: 300 }} p="xs">
    <EnhancedDashboardNav />
  </Navbar>
  // ...
};
```

### **–ö—Ä–æ–∫ 4: –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è**
- [ ] –î–æ–¥–∞—Ç–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É
- [ ] –û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
- [ ] –î–æ–¥–∞—Ç–∏ –∞–Ω—ñ–º–∞—Ü—ñ—ó –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤

---

## üé® –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### **1. –ü—Ä–æ—Å—Ç–∞ –∑–∞–º—ñ–Ω–∞:**
```tsx
// –ë—É–ª–æ:
<DashboardNav />

// –°—Ç–∞–ª–æ:
<EnhancedDashboardNav />
```

### **2. –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**
```tsx
// –î–∏–Ω–∞–º—ñ—á–Ω–µ –º–µ–Ω—é
<DynamicDashboardNav />

// –ö–æ–º–ø–∞–∫—Ç–Ω–µ –¥–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö
<CompactDashboardNav />
```

### **3. –ó–∞—Ö–∏—Å—Ç –Ω–æ–≤–∏—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫:**
```tsx
// –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –∑–∞—Ö–∏—â–µ–Ω–∏–π —Ä–æ—É—Ç
<Route 
  path="reports" 
  element={
    <LevelProtectedRoute level={60}>
      <ReportsPage />
    </LevelProtectedRoute>
  } 
/>
```

---

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø—ñ—Å–ª—è –º—ñ–≥—Ä–∞—Ü—ñ—ó:

### **‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏:**
- **–ë–µ–∑–ø–µ–∫–∞:** –ó–∞—Ö–∏—Å—Ç –Ω–∞ —Ä—ñ–≤–Ω—ñ —Ä–æ—É—Ç–∏–Ω–≥—É —Ç–∞ UI
- **–ì–Ω—É—á–∫—ñ—Å—Ç—å:** –†—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –æ–±–º–µ–∂–µ–Ω—å
- **UX:** –í—ñ–∑—É–∞–ª—å–Ω—ñ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏ —Ç–∞ fallback
- **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å:** –õ–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ä–æ–ª—ñ
- **–¢–∏–ø–æ–±–µ–∑–ø–µ–∫–∞:** TypeScript –ø—ñ–¥—Ç—Ä–∏–º–∫–∞

### **üéØ –í—ñ–∑—É–∞–ª—å–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:**
- –ë–µ–π–¥–∂—ñ –¥–ª—è –≤–∞–∂–ª–∏–≤–∏—Ö —Ä–æ–∑–¥—ñ–ª—ñ–≤
- Tooltips –¥–ª—è –ø–æ—è—Å–Ω–µ–Ω—å
- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø–æ—Ç–æ—á–Ω—É —Ä–æ–ª—å
- –ó—Ä–æ–∑—É–º—ñ–ª—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø

**–ù–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ –º—ñ–≥—Ä–∞—Ü—ñ—ó!** üöÄ
